# Interface Administrativa - Gest√£o de Usu√°rios

## Vis√£o Geral

Este documento especifica a interface administrativa do sistema de controle de tokens da IA SOLARIS, focando na gest√£o completa de usu√°rios, monitoramento de consumo e controles operacionais. A interface √© projetada para administradores e gestores que precisam de visibilidade total sobre o uso da plataforma e capacidade de interven√ß√£o quando necess√°rio.

## Dashboard Principal Administrativo

### Layout Geral

**Estrutura da P√°gina:**
- Header com navega√ß√£o principal e perfil do admin
- Sidebar com menu de funcionalidades
- √Årea principal com widgets e tabelas
- Footer com informa√ß√µes de sistema

**Widgets do Dashboard:**

1. **Resumo Geral (Cards Superiores)**
   - Total de usu√°rios ativos
   - Consumo total de tokens no m√™s
   - Receita gerada
   - Alertas pendentes

2. **Gr√°ficos de Monitoramento**
   - Consumo de tokens ao longo do tempo
   - Distribui√ß√£o de uso por usu√°rio
   - Tend√™ncias de crescimento
   - Performance do sistema

3. **Alertas e Notifica√ß√µes**
   - Usu√°rios pr√≥ximos ao limite
   - Problemas t√©cnicos detectados
   - Transa√ß√µes pendentes
   - Relat√≥rios de abuso

### Especifica√ß√µes dos Cards de Resumo

**Card 1: Usu√°rios Ativos**
```
T√≠tulo: "Usu√°rios Ativos"
Valor Principal: 1,247
Subt√≠tulo: "+12% vs m√™s anterior"
√çcone: üë•
Cor: Azul (#3B82F6)
A√ß√£o: Clique leva para lista completa de usu√°rios
```

**Card 2: Tokens Consumidos**
```
T√≠tulo: "Tokens Consumidos (M√™s)"
Valor Principal: 847.2M
Subt√≠tulo: "de 1.2B dispon√≠veis"
√çcone: üî•
Cor: Laranja (#F59E0B)
A√ß√£o: Clique leva para relat√≥rio detalhado
```

**Card 3: Receita Gerada**
```
T√≠tulo: "Receita (M√™s)"
Valor Principal: R$ 23.450
Subt√≠tulo: "+8% vs m√™s anterior"
√çcone: üí∞
Cor: Verde (#10B981)
A√ß√£o: Clique leva para relat√≥rio financeiro
```

**Card 4: Alertas Ativos**
```
T√≠tulo: "Alertas Pendentes"
Valor Principal: 23
Subt√≠tulo: "3 cr√≠ticos, 20 avisos"
√çcone: ‚ö†Ô∏è
Cor: Vermelho (#EF4444)
A√ß√£o: Clique leva para central de alertas
```

## Interface de Gest√£o de Usu√°rios

### Lista de Usu√°rios

**Tabela Principal:**

| Campo | Tipo | Largura | Orden√°vel | Filtr√°vel |
|-------|------|---------|-----------|-----------|
| Avatar | Imagem | 60px | N√£o | N√£o |
| Nome | Texto | 200px | Sim | Sim |
| Email | Texto | 250px | Sim | Sim |
| Status | Badge | 100px | Sim | Sim |
| Plano | Badge | 120px | Sim | Sim |
| Tokens Usados | Barra + N√∫mero | 180px | Sim | N√£o |
| √öltimo Acesso | Data | 150px | Sim | Sim |
| A√ß√µes | Bot√µes | 120px | N√£o | N√£o |

**Estados de Status:**
- **Ativo:** Badge verde "Ativo"
- **Suspenso:** Badge amarelo "Suspenso"
- **Bloqueado:** Badge vermelho "Bloqueado"
- **Pendente:** Badge cinza "Pendente"

**Tipos de Plano:**
- **B√°sico:** Badge azul claro "B√°sico"
- **Pro:** Badge azul escuro "Pro"
- **Enterprise:** Badge roxo "Enterprise"
- **Trial:** Badge cinza "Trial"

### Filtros e Busca

**Barra de Busca:**
- Placeholder: "Buscar por nome, email ou ID..."
- Busca em tempo real (debounce de 300ms)
- Suporte a operadores: "nome:Jo√£o", "status:ativo"

**Filtros Laterais:**
```
Status da Conta:
‚òê Ativo (1,247)
‚òê Suspenso (23)
‚òê Bloqueado (8)
‚òê Pendente (45)

Tipo de Plano:
‚òê B√°sico (856)
‚òê Pro (324)
‚òê Enterprise (67)
‚òê Trial (123)

Consumo de Tokens:
‚òê Baixo (0-30%)
‚òê M√©dio (31-70%)
‚òê Alto (71-90%)
‚òê Cr√≠tico (91-100%)

Data de Cadastro:
‚òê √öltima semana
‚òê √öltimo m√™s
‚òê √öltimos 3 meses
‚òê Mais de 6 meses
```

### Detalhes do Usu√°rio

**Modal de Informa√ß√µes Completas:**

**Aba 1: Informa√ß√µes Gerais**
```
Dados Pessoais:
- Nome completo
- Email
- Telefone
- Data de nascimento
- Endere√ßo completo

Dados da Conta:
- ID do usu√°rio
- Data de cadastro
- √öltimo login
- IP do √∫ltimo acesso
- Dispositivo utilizado
```

**Aba 2: Consumo e Tokens**
```
Resumo Mensal:
- Limite mensal: 1.000.000 tokens
- Consumidos: 750.000 tokens (75%)
- Restantes: 250.000 tokens
- Tokens adicionais: 50.000 tokens

Hist√≥rico de Consumo:
- Gr√°fico dos √∫ltimos 30 dias
- Picos de uso identificados
- Padr√µes de comportamento

Hist√≥rico de Compras:
- Data | Quantidade | Valor | Status
- Tabela com todas as transa√ß√µes
```

**Aba 3: Atividade e Logs**
```
Atividade Recente:
- Timestamp | A√ß√£o | Detalhes
- Login/logout
- Consultas realizadas
- Compras efetuadas
- Altera√ß√µes de perfil

Logs de Sistema:
- Alertas gerados
- Bloqueios aplicados
- Interven√ß√µes administrativas
```

### A√ß√µes Administrativas

**A√ß√µes R√°pidas (Bot√µes na Tabela):**
- **Visualizar:** √çcone de olho - Abre modal de detalhes
- **Editar:** √çcone de l√°pis - Permite edi√ß√£o de dados
- **Suspender/Ativar:** √çcone de play/pause - Alterna status
- **Menu:** √çcone de tr√™s pontos - A√ß√µes adicionais

**A√ß√µes do Menu Expandido:**
```
üë§ Ver Perfil Completo
‚úèÔ∏è Editar Informa√ß√µes
üîÑ Resetar Tokens do M√™s
‚ûï Adicionar Tokens Bonus
üìß Enviar Notifica√ß√£o
üìä Relat√≥rio Detalhado
üö´ Suspender Conta
‚ùå Bloquear Conta
üóëÔ∏è Excluir Usu√°rio
```

### Formul√°rios de Edi√ß√£o

**Formul√°rio de Edi√ß√£o de Usu√°rio:**

**Se√ß√£o 1: Dados B√°sicos**
```html
<form class="user-edit-form">
  <div class="form-section">
    <h3>Informa√ß√µes Pessoais</h3>
    <div class="form-row">
      <input type="text" name="firstName" label="Nome" required>
      <input type="text" name="lastName" label="Sobrenome" required>
    </div>
    <div class="form-row">
      <input type="email" name="email" label="Email" required>
      <input type="tel" name="phone" label="Telefone">
    </div>
  </div>
</form>
```

**Se√ß√£o 2: Configura√ß√µes da Conta**
```html
<div class="form-section">
  <h3>Configura√ß√µes da Conta</h3>
  <div class="form-row">
    <select name="status" label="Status da Conta">
      <option value="active">Ativo</option>
      <option value="suspended">Suspenso</option>
      <option value="blocked">Bloqueado</option>
    </select>
    <select name="plan" label="Plano">
      <option value="basic">B√°sico</option>
      <option value="pro">Pro</option>
      <option value="enterprise">Enterprise</option>
    </select>
  </div>
</div>
```

**Se√ß√£o 3: Controle de Tokens**
```html
<div class="form-section">
  <h3>Gest√£o de Tokens</h3>
  <div class="form-row">
    <input type="number" name="monthlyLimit" label="Limite Mensal" min="100000" max="10000000">
    <input type="number" name="bonusTokens" label="Tokens Bonus" min="0">
  </div>
  <div class="form-row">
    <textarea name="adjustmentReason" label="Motivo do Ajuste" rows="3" placeholder="Descreva o motivo da altera√ß√£o..."></textarea>
  </div>
</div>
```

## Interface de Monitoramento em Tempo Real

### Dashboard de Monitoramento

**M√©tricas em Tempo Real:**

1. **Requisi√ß√µes por Segundo**
   - Gr√°fico de linha em tempo real
   - Valores atuais e m√©dias
   - Alertas de picos an√¥malos

2. **Distribui√ß√£o de Carga**
   - Gr√°fico de pizza por modelo de IA
   - Percentual de uso por endpoint
   - Identifica√ß√£o de gargalos

3. **Status dos Servi√ßos**
   - Indicadores verde/vermelho
   - Tempo de resposta m√©dio
   - Disponibilidade (uptime)

4. **Alertas Ativos**
   - Lista em tempo real
   - Classifica√ß√£o por criticidade
   - A√ß√µes de resolu√ß√£o

### Central de Alertas

**Tipos de Alerta:**

**Cr√≠ticos (Vermelho):**
- Sistema fora do ar
- Falha na cobran√ßa
- Usu√°rio com consumo an√¥malo
- Tentativa de fraude detectada

**Avisos (Amarelo):**
- Performance degradada
- Usu√°rio pr√≥ximo ao limite
- Falha em email de notifica√ß√£o
- Backup n√£o realizado

**Informativos (Azul):**
- Novo usu√°rio cadastrado
- Compra de tokens realizada
- Atualiza√ß√£o de sistema
- Relat√≥rio mensal gerado

**Interface de Alerta:**
```
[üî¥] CR√çTICO - Sistema de Pagamento Indispon√≠vel
Detectado em: 14:32:15
Dura√ß√£o: 00:05:23
Usu√°rios afetados: 23
A√ß√µes: [Investigar] [Escalar] [Resolver]
Descri√ß√£o: Gateway de pagamento retornando erro 500...

[üü°] AVISO - Usu√°rio com Consumo Alto
Usu√°rio: Jo√£o Silva (ID: 12345)
Consumo: 950.000 tokens (95%)
A√ß√µes: [Contatar] [Ajustar Limite] [Monitorar]
Descri√ß√£o: Usu√°rio est√° pr√≥ximo do limite mensal...
```

## Relat√≥rios e Analytics

### Relat√≥rio de Consumo

**Filtros Dispon√≠veis:**
- Per√≠odo: Dia, semana, m√™s, trimestre, ano
- Usu√°rios: Espec√≠ficos ou grupos
- Modelos de IA: GPT-4, Claude, etc.
- Tipo de uso: Chat, API, integra√ß√£o

**Visualiza√ß√µes:**
1. **Gr√°fico de Linha:** Consumo ao longo do tempo
2. **Gr√°fico de Barras:** Top usu√°rios consumidores
3. **Heatmap:** Hor√°rios de maior uso
4. **Tabela Detalhada:** Dados granulares

### Relat√≥rio Financeiro

**M√©tricas Principais:**
- Receita total por per√≠odo
- Receita por tipo de plano
- Receita por tokens adicionais
- Previs√£o de receita

**An√°lises:**
- Taxa de convers√£o (trial ‚Üí pago)
- Churn rate por plano
- Lifetime value (LTV) por usu√°rio
- Custo de aquisi√ß√£o (CAC)

### Exporta√ß√£o de Dados

**Formatos Dispon√≠veis:**
- CSV para an√°lise em planilhas
- PDF para relat√≥rios executivos
- JSON para integra√ß√£o com outros sistemas
- Excel com formata√ß√£o avan√ßada

**Agendamento de Relat√≥rios:**
- Frequ√™ncia: Di√°rio, semanal, mensal
- Destinat√°rios: Lista de emails
- Filtros pr√©-configurados
- Entrega autom√°tica

## Configura√ß√µes do Sistema

### Configura√ß√µes Gerais

**Limites Globais:**
```
Limite padr√£o mensal: 1.000.000 tokens
Limite m√°ximo por usu√°rio: 10.000.000 tokens
Limite m√≠nimo por usu√°rio: 100.000 tokens
Percentual de alerta: 80%
Percentual de bloqueio: 100%
```

**Configura√ß√µes de Email:**
```
Servidor SMTP: smtp.gmail.com
Porta: 587
Autentica√ß√£o: TLS
Remetente: noreply@iasolaris.com
Template de alerta: [Selecionar]
Template de bloqueio: [Selecionar]
```

**Configura√ß√µes de Pagamento:**
```
Gateway principal: Stripe
Gateway secund√°rio: PayPal
Moeda: BRL (Real Brasileiro)
Taxa de processamento: 3.5%
Webhook URL: https://api.iasolaris.com/webhooks/payment
```

### Gest√£o de Permiss√µes

**N√≠veis de Acesso:**

**Super Admin:**
- Acesso total ao sistema
- Configura√ß√µes globais
- Gest√£o de outros admins
- Relat√≥rios financeiros completos

**Admin:**
- Gest√£o de usu√°rios
- Monitoramento de consumo
- Relat√≥rios operacionais
- Configura√ß√µes b√°sicas

**Operador:**
- Visualiza√ß√£o de dashboards
- Suporte a usu√°rios
- Relat√≥rios b√°sicos
- Sem acesso a configura√ß√µes

**Suporte:**
- Acesso apenas a tickets
- Hist√≥rico de usu√°rios
- Logs de sistema
- Sem acesso a dados financeiros

## Especifica√ß√µes T√©cnicas

### Arquitetura da Interface

**Frontend:**
- Framework: React 18
- Estado: Redux Toolkit
- Roteamento: React Router v6
- UI Library: Tailwind CSS + Headless UI
- Gr√°ficos: Chart.js / D3.js
- Tabelas: React Table v8

**Comunica√ß√£o com Backend:**
- API REST com autentica√ß√£o JWT
- WebSocket para dados em tempo real
- Polling para atualiza√ß√µes peri√≥dicas
- Cache com React Query

### Estrutura de Componentes

```
AdminDashboard/
‚îú‚îÄ‚îÄ Layout/
‚îÇ   ‚îú‚îÄ‚îÄ Header.jsx
‚îÇ   ‚îú‚îÄ‚îÄ Sidebar.jsx
‚îÇ   ‚îî‚îÄ‚îÄ Footer.jsx
‚îú‚îÄ‚îÄ Dashboard/
‚îÇ   ‚îú‚îÄ‚îÄ StatsCards.jsx
‚îÇ   ‚îú‚îÄ‚îÄ Charts.jsx
‚îÇ   ‚îî‚îÄ‚îÄ AlertsPanel.jsx
‚îú‚îÄ‚îÄ Users/
‚îÇ   ‚îú‚îÄ‚îÄ UsersList.jsx
‚îÇ   ‚îú‚îÄ‚îÄ UserDetails.jsx
‚îÇ   ‚îú‚îÄ‚îÄ UserForm.jsx
‚îÇ   ‚îî‚îÄ‚îÄ UserActions.jsx
‚îú‚îÄ‚îÄ Monitoring/
‚îÇ   ‚îú‚îÄ‚îÄ RealTimeMetrics.jsx
‚îÇ   ‚îú‚îÄ‚îÄ AlertsCenter.jsx
‚îÇ   ‚îî‚îÄ‚îÄ SystemStatus.jsx
‚îú‚îÄ‚îÄ Reports/
‚îÇ   ‚îú‚îÄ‚îÄ ConsumptionReport.jsx
‚îÇ   ‚îú‚îÄ‚îÄ FinancialReport.jsx
‚îÇ   ‚îî‚îÄ‚îÄ ExportOptions.jsx
‚îî‚îÄ‚îÄ Settings/
    ‚îú‚îÄ‚îÄ GeneralSettings.jsx
    ‚îú‚îÄ‚îÄ PermissionsManager.jsx
    ‚îî‚îÄ‚îÄ SystemConfig.jsx
```

### APIs Necess√°rias

**Endpoints de Usu√°rios:**
```
GET /api/admin/users - Lista usu√°rios com filtros
GET /api/admin/users/:id - Detalhes de usu√°rio espec√≠fico
PUT /api/admin/users/:id - Atualiza dados do usu√°rio
POST /api/admin/users/:id/tokens - Adiciona tokens bonus
POST /api/admin/users/:id/suspend - Suspende usu√°rio
POST /api/admin/users/:id/activate - Ativa usu√°rio
DELETE /api/admin/users/:id - Remove usu√°rio
```

**Endpoints de Monitoramento:**
```
GET /api/admin/metrics/realtime - M√©tricas em tempo real
GET /api/admin/alerts - Lista de alertas ativos
POST /api/admin/alerts/:id/resolve - Resolve alerta
GET /api/admin/system/status - Status dos servi√ßos
GET /api/admin/system/health - Health check completo
```

**Endpoints de Relat√≥rios:**
```
GET /api/admin/reports/consumption - Relat√≥rio de consumo
GET /api/admin/reports/financial - Relat√≥rio financeiro
POST /api/admin/reports/export - Exporta relat√≥rio
GET /api/admin/reports/scheduled - Lista relat√≥rios agendados
POST /api/admin/reports/schedule - Agenda novo relat√≥rio
```

## Testes e Valida√ß√£o

### Cen√°rios de Teste

**Teste 1: Gest√£o de Usu√°rios**
- Criar, editar e excluir usu√°rios
- Aplicar diferentes filtros na lista
- Testar a√ß√µes em lote
- Verificar permiss√µes por n√≠vel de acesso

**Teste 2: Monitoramento em Tempo Real**
- Simular picos de tr√°fego
- Testar alertas autom√°ticos
- Verificar atualiza√ß√£o de m√©tricas
- Validar performance da interface

**Teste 3: Relat√≥rios**
- Gerar relat√≥rios com diferentes filtros
- Testar exporta√ß√£o em todos os formatos
- Verificar agendamento de relat√≥rios
- Validar precis√£o dos dados

### M√©tricas de Performance

- **Tempo de carregamento:** < 2 segundos
- **Atualiza√ß√£o em tempo real:** < 1 segundo
- **Responsividade:** Suporte a tablets e desktops
- **Disponibilidade:** 99.9% uptime

---

**Autor:** Manus AI  
**Data:** Janeiro 2024  
**Vers√£o:** 1.0

